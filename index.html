<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .question-container {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: none;
        }
        .question-container.active {
            display: block;
        }
        .question-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .question-description {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.9em;
        }
        .options-container {
            margin-bottom: 15px;
        }
        .option {
            margin: 10px 0;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
            display: none;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
        }
        .prev-btn {
            background-color: #6c757d;
            color: white;
        }
        .next-btn {
            background-color: #007bff;
            color: white;
        }
        .submit-btn {
            background-color: #28a745;
            color: white;
        }
        .answered .submit-btn {
            background-color: #007bff;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div id="quiz-container"></div>

    <script>
        // Quiz content - EDIT THIS SECTION TO MODIFY QUESTIONS
        const quizData = [
            {
                id: 1,
                title: "Do you contest the validity of the intellectual property right in question?",
                description: "Validity refers to whether the IP right was granted correctly and is legally enforceable. This could relate to patents, trademarks, copyrights, or other forms of IP protection. Some disputes are about both the validity of a right, and infringment on a right.",
                type: "radio", // single choice
                options: [
                    {
                        id: "Yes",
                        text: "Yes, I believe the right should not be granted.",
                        feedback: "We will ask further questions about the reasons you have for disputing the validity of a right."
                    },
                    {
                        id: "No",
                        text: "No, validity is not at issue",
                        feedback: "3 possible options have been ruled out beased on this information; there are 16 remaining options you could decide to persue."
                    }
                ]
            },
            {
                id: 2,
                title: "Have you identified any IP related issues from someone selling on an online marketplace? (eg Amazon, Etsy, Facebook)",
                description: "Some online marketplaces have ways to allert them to infirngment happening on their platform, which can be used in conjunction with other inforcement strategies.",
                type: "radio", // single choice
                options: [
                    {
                        id: "Yes",
                        text: "Yes",
                        feedback: "The suggestions will include 'take-down' requests on private platforms for you to consider."
                    },
                    {
                        id: "No",
                        text: "No",
                        feedback: "1 possible option has been ruled out based on this information; there are 15 remaining options you could decide to persue."
                    }
                    ]
            },
            {
                id: 3,
                title: "What is your primary objective?",
                description: "To help us prioritise actions which align with your needs, we would like to know what your aim is. Please select your MAIN aim, though multiple aims may be possible wiht many of the suggested actions.",
                type: "radio", // single choice
                options: [
                    {
                        id: "compensation",
                        text: "Obtain financial compensation for infringement.",
                        feedback: "Making this choice will prioritise formal proceedings which can lead to financal compensation, and will deprioritise faster and cheaper solutions."
                        //It can be quite expensive and slow to obtain compensation, be clear that this is imperative to resolving your situation.
                    },
                    {
                        id: "stop infringment",
                        text: "Prevent further infringement.",
                        feedback: "Making this choice will not remove any options, but will prioritise actions which most effectivly (cheaply and quickly) reduce future infringment."
                    },
                    {
                        id: "respond",
                        text: "Respond to claims of infringement and continue to operate",
                        feedback: "Making this choice will prioritise de-escilating actions which help clarify and resolve issues involving rights."
                    }
                        ]
                },
                      {
                id: 4,
                title: "Which country is the IP registered in?",
                description: "IP exisits golablaly, but is made up of a patchwork of cooperating systems. Some actions are only available with rights registered in particualar jurisitions. Select all options which apply.",
                type: "checkbox", // multiple choice
                options: [
                    {
                        id: "AustIP",
                        text: "Registered with IP Australia (or pending registration with IP Australia)",
                        feedback: "Making this choice has prioritised actions which can be applied within Austalia. There are 15 remaining options to consider."
                    },
                    {
                        id: "InternationIP",
                        text: "Registered with foreign IP offices (or pending registration) (e.g., US patents, EU trademarks)",
                        feedback: "3 possible options have been ruled out as they require the Ip to be registered in Australia; there are 12 remaining options to consider."
                    },
                    {
                        id: "NoRegisteredIP",
                        text: "The IP is not formally registered.",
                        feedback: "There are commonlaw rights for IP in some situations, but with no registered IP 9 possible options have been removed, there are 6 remaining options to consider."
                    }
                    
                ]
            }
            // Add more questions here following the same format
        ];

        // Generate quiz HTML
        function generateQuiz() {
            const container = document.getElementById('quiz-container');
            
            // Generate questions
            quizData.forEach((question, index) => {
                const questionHTML = `
                    <div class="question-container ${index === 0 ? 'active' : ''}" data-question="${question.id}">
                        <div class="question-title">${question.title}</div>
                        <div class="question-description">${question.description}</div>
                        <div class="options-container">
                            ${question.options.map(option => `
                                <div class="option">
                                    <input type="${question.type}" name="q${question.id}" value="${option.id}" id="q${question.id}-${option.id}">
                                    <label for="q${question.id}-${option.id}">${option.text}</label>
                                </div>
                            `).join('')}
                        </div>
                        ${question.options.map(option => `
                            <div class="feedback" data-feedback="${option.id}">${option.feedback}</div>
                        `).join('')}
                    </div>
                `;
                container.innerHTML += questionHTML;
            });

            // Add navigation buttons
            container.innerHTML += `
                <div class="navigation">
                    <button class="prev-btn" disabled>Previous</button>
                    <button class="submit-btn">Submit</button>
                </div>
            `;
        }

        // Initialize quiz
        document.addEventListener('DOMContentLoaded', function() {
            generateQuiz();
            
            const containers = document.querySelectorAll('.question-container');
            const prevBtn = document.querySelector('.prev-btn');
            const submitBtn = document.querySelector('.submit-btn');
            let currentQuestion = 1;

            function showQuestion(questionNumber) {
                containers.forEach(container => {
                    container.classList.remove('active');
                    if (container.dataset.question == questionNumber) {
                        container.classList.add('active');
                    }
                });
                
                prevBtn.disabled = questionNumber === 1;
                currentQuestion = questionNumber;
            }

            function updateFeedback(container) {
                const feedbacks = container.querySelectorAll('.feedback');
                feedbacks.forEach(feedback => feedback.style.display = 'none');

                const inputs = container.querySelectorAll('input:checked');
                inputs.forEach(input => {
                    const feedbackElement = container.querySelector(`.feedback[data-feedback="${input.value}"]`);
                    if (feedbackElement) {
                        feedbackElement.style.display = 'block';
                    }
                });
            }

            // Handle input changes
            document.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
                input.addEventListener('change', function() {
                    const container = this.closest('.question-container');
                    updateFeedback(container);
                    container.classList.add('answered');
                });
            });

            // Navigation buttons
            prevBtn.addEventListener('click', () => {
                if (currentQuestion > 1) {
                    showQuestion(currentQuestion - 1);
                }
            });

            submitBtn.addEventListener('click', function() {
                const currentContainer = document.querySelector(`.question-container[data-question="${currentQuestion}"]`);
                const isAnswered = currentContainer.querySelector('input:checked');
                
                if (isAnswered) {
                    if (submitBtn.textContent === 'Submit') {
                        submitBtn.textContent = 'Next';
                        submitBtn.classList.add('next-btn');
                        submitBtn.classList.remove('submit-btn');
                    } else {
                        if (currentQuestion < containers.length) {
                            showQuestion(currentQuestion + 1);
                            submitBtn.textContent = 'Submit';
                            submitBtn.classList.remove('next-btn');
                            submitBtn.classList.add('submit-btn');
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
